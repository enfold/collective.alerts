(self.webpackChunkcollective_alerts=self.webpackChunkcollective_alerts||[]).push([[100],{573:(e,i,t)=>{"use strict";t.r(i);var s=t(228),a=t(872),o=t.n(a),l=t(191),n=t(214),r=t.n(n);t(812);t.e(392).then(t.bind(t,392));l.Z.extend({name:"alertmessage",trigger:".pat-alertmessage",parser:"mockup",defaults:{get_message_view:"/get-alert-message",show_in_context:!0,cache:!1},set_cookie:function(e,i){var t=e.cookie_expire?e.cookie_expire:0,s=e.cookie_expire_minimize?e.cookie_expire_minimize:0;if(("minimize"!==i||0!==s&&!isNaN(parseFloat(s)))&&("close"!==i||0!==t&&!isNaN(parseFloat(t)))){var a=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,l=r()(a),n=new Date;"close"==i&&n.setTime(n.getTime()+60*t*60*1e3),"minimize"==i&&n.setTime(n.getTime()+60*s*60*1e3),o().cookie("alert.message."+i+"."+l.toString().slice(20),"1",{expires:n,path:"/"})}},is_visible:function(e){var i=!1;if(e.visible){var t=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,s=r()(t);if(void 0===o().cookie("alert.message.close."+s.toString().slice(20)))i=!!(void 0===e.display_on_every_page||e.display_on_every_page)||this.options.show_in_context}return i},show_on_top:function(e){var i=this,t=o()('<div class="alert alert-'+e.klass+' alert-dismissible" role="alert"></div>'),s=o()('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){i.$el.html(""),i.set_cookie(e,"close")})),a=o()("<div></div>");""!==e.title&&a.append(o()("<strong>"+e.title+": </strong>")),""!==e.message&&a.append(o()("<span>"+e.message+"</span>")),t.append(s),t.append(a),i.$el.html(""),i.$el.append(t),0!==e.retract_timeout&&setTimeout((function(){t.remove()}),1e3*e.retract_timeout)},show_slide:function(e,i){var t=this,s=o()('<div class="slide-alert-message"></div>');s.addClass(i),s.addClass("alert-"+e.klass);var a,l=o()('<button type="button" class="close minimize"><span aria-hidden="true">&nbsp;-</span></button>').on("click",(function(){t.set_cookie(e,"minimize"),s.hasClass("visible")&&(s.removeClass("visible"),clearTimeout(a))})),n=o()('<button type="button" class="close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){t.$el.html(""),t.set_cookie(e,"close")})),c=o()("<div></div>");""!==e.message&&c.append(o()("<span>"+e.message+"</span>")),s.append(n),s.append(l),s.append(c),t.$el.html(""),t.$el.append(s);var p=o()('<span class="btn open-slide-alert-message"></button>').on("click",(function(){s.hasClass("visible")?(s.removeClass("visible"),clearTimeout(a)):(s.addClass("visible"),0!==e.retract_timeout&&(a=setTimeout((function(){s.removeClass("visible")}),1e3*e.retract_timeout)))}));p.addClass(i),p.addClass("alert-"+e.klass),p.html(e.title?e.title:e.klass),t.$el.append(p);var d=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,m=r()(d);void 0===o().cookie("alert.message.minimize."+m.toString().slice(20))&&p.trigger("click")},show_mobile:function(e){var i=this,t=o()('<div class="slide-alert-message mobile"></div>');t.addClass("alert-"+e.klass);var s=o()('<button type="button" class="close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){i.$el.html(""),i.set_cookie(e,"close")})),a=o()("<div></div>");""!==e.title&&a.append(o()("<strong>"+e.title+": </strong>")),""!==e.message&&a.append(o()("<span>"+e.message+"</span>")),t.append(s),t.append(a),i.$el.html(""),i.$el.append(t)},init:function(){if(!window.location.pathname.includes("@@set-alert-message")){var e=this;o().ajax({url:e.options.get_message_view,type:"GET",context:e.$el,async:!0,cache:e.options.cache}).done((function(i,t,s){e.is_visible(i)&&(window.innerWidth<=769?e.show_mobile(i):("fixed_top"===i.alert_location&&e.show_on_top(i),"slide_left"===i.alert_location&&e.show_slide(i,"left"),"slide_right"===i.alert_location&&e.show_slide(i,"right"),"slide_top"===i.alert_location&&e.show_slide(i,"top")))}))}}});s.Z.init()},480:()=>{}}]);
//# sourceMappingURL=100.1494b8e2e85470217720.min.js.map