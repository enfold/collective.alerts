(self.webpackChunkcollective_alerts=self.webpackChunkcollective_alerts||[]).push([[100],{573:(e,i,s)=>{"use strict";s.r(i);var t=s(228),a=s(83),l=s.n(a),o=s(191),n=s(214),r=s.n(n);s(812);s.e(392).then(s.bind(s,392));o.Z.extend({name:"alertmessage",trigger:".pat-alertmessage",parser:"mockup",defaults:{get_message_view:"/get-alert-message",show_in_context:!0,cache:!1},set_cookie:function(e,i){var s=e.cookie_expire?e.cookie_expire:0,t=e.cookie_expire_minimize?e.cookie_expire_minimize:0;if(("minimize"!==i||0!==t&&!isNaN(parseFloat(t)))&&("close"!==i||0!==s&&!isNaN(parseFloat(s)))){var a=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,o=r()(a),n=new Date;"close"==i&&n.setTime(n.getTime()+60*s*60*1e3),"minimize"==i&&n.setTime(n.getTime()+60*t*60*1e3),l().cookie("alert.message."+i+"."+o.toString().slice(20),"1",{expires:n,path:"/"})}},is_visible:function(e){var i=!1;if(e.visible){var s=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,t=r()(s);if(void 0===l().cookie("alert.message.close."+t.toString().slice(20)))i=!!(void 0===e.display_on_every_page||e.display_on_every_page)||this.options.show_in_context}return i},show_on_top:function(e){var i=this,s=l()('<div class="alert alert-'+e.klass+' alert-dismissible" role="alert"></div>');window.innerWidth<=769&&s.addClass("mobile");var t=l()('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){i.$el.html(""),i.set_cookie(e,"close")})),a=l()("<div></div>");""!==e.title&&a.append(l()("<strong>"+e.title+": </strong>")),""!==e.message&&a.append(l()("<span>"+e.message+"</span>")),s.append(t),s.append(a),i.$el.html(""),i.$el.append(s),0!==e.retract_timeout&&setTimeout((function(){s.remove()}),1e3*e.retract_timeout)},show_slide:function(e,i){var s,t=this,a=l()('<div class="slide-alert-message"></div>');a.addClass(i),a.addClass("alert-"+e.klass),window.innerWidth<=769&&a.addClass("mobile");var o=l()('<span class="btn open-slide-alert-message" aria-label="Open"></button>').on("click",(function(){a.hasClass("visible")?(a.removeClass("visible"),o.removeClass("alert-visible"),clearTimeout(s)):(a.addClass("visible"),o.addClass("alert-visible"),0!==e.retract_timeout&&(s=setTimeout((function(){a.removeClass("visible"),o.removeClass("alert-visible")}),1e3*e.retract_timeout)))})),n=l()('<button type="button" aria-label="Minimize" class="close minimize"><span aria-hidden="true">&nbsp;-</span></button>').on("click",(function(){t.set_cookie(e,"minimize"),a.hasClass("visible")&&(a.removeClass("visible"),o.removeClass("alert-visible"),clearTimeout(s))})),c=l()('<button type="button" aria-label="Close" class="close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){t.$el.html(""),t.set_cookie(e,"close")})),p=l()("<div></div>");""!==e.message&&p.append(l()("<span>"+e.message+"</span>")),a.append(c),a.append(n),a.append(p),t.$el.html(""),t.$el.append(a),o.addClass(i),o.addClass("alert-"+e.klass),o.html(e.title?e.title:e.klass),t.$el.append(o);var d=e.alert_location+e.title+e.cookie_expire+e.cookie_expire_minimize+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,m=r()(d);void 0===l().cookie("alert.message.minimize."+m.toString().slice(20))&&o.trigger("click")},init:function(){if(!window.location.pathname.includes("@@set-alert-message")){var e=this;l().ajax({url:e.options.get_message_view,type:"GET",context:e.$el,async:!0,cache:e.options.cache}).done((function(i,s,t){e.is_visible(i)&&("fixed_top"===i.alert_location?e.show_on_top(i):"slide_left"===i.alert_location?e.show_slide(i,"left"):"slide_right"===i.alert_location?e.show_slide(i,"right"):"slide_top"===i.alert_location&&e.show_slide(i,"top"))}))}}});t.Z.init()},480:()=>{}}]);
//# sourceMappingURL=100.2cafab2cd5845189072a.min.js.map