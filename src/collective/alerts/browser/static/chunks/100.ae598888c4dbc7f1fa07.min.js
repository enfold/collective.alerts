(self.webpackChunkcollective_alerts=self.webpackChunkcollective_alerts||[]).push([[100],{573:(e,t,s)=>{"use strict";s.r(t);var a=s(228),i=s(269),l=s.n(i),o=s(191),n=s(214),r=s.n(n);s(812);s.e(304).then(s.bind(s,304));o.Z.extend({name:"alertmessage",trigger:".pat-alertmessage",parser:"mockup",defaults:{get_message_view:"/get-alert-message",show_in_context:!0,cache:!1},set_cookie:function(e){var t=e.cookie_expire?e.cookie_expire:0;if(0!==t&&!isNaN(parseFloat(t))){var s=e.alert_location+e.title+e.cookie_expire+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,a=r()(s),i=new Date;i.setTime(i.getTime()+60*t*60*1e3),l().cookie("alert.message."+a.toString().slice(20),"1",{expires:i,path:"/"})}},is_visible:function(e){var t=!1;if(e.visible){var s=e.alert_location+e.title+e.cookie_expire+e.display_on_every_page+e.klass+e.message+e.retract_timeout+e.date,a=r()(s);if(void 0===l().cookie("alert.message."+a.toString().slice(20)))t=!!(void 0===e.display_on_every_page||e.display_on_every_page)||this.options.show_in_context}return t},show_on_top:function(e){var t=this,s=l()('<div class="alert alert-'+e.klass+' alert-dismissible" role="alert"></div>'),a=l()('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){t.$el.html(""),t.set_cookie(e)})),i=l()("<div></div>");""!==e.title&&i.append(l()("<strong>"+e.title+": </strong>")),""!==e.message&&i.append(l()("<span>"+e.message+"</span>")),s.append(a),s.append(i),t.$el.html(""),t.$el.append(s),0!==e.retract_timeout&&setTimeout((function(){s.remove()}),1e3*e.retract_timeout)},show_slide:function(e,t){var s=this,a=l()('<div class="slide-alert-message"></div>');a.addClass(t),a.addClass("alert-"+e.klass);var i,o=l()('<button type="button" class="close minimize"><span aria-hidden="true">&nbsp;-</span></button>').on("click",(function(){a.hasClass("visible")&&(a.removeClass("visible"),clearTimeout(i))})),n=l()('<button type="button" class="close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){s.$el.html(""),s.set_cookie(e)})),r=l()("<div></div>");""!==e.message&&r.append(l()("<span>"+e.message+"</span>")),a.append(n),a.append(o),a.append(r),s.$el.html(""),s.$el.append(a);var c=l()('<span class="btn open-slide-alert-message"></button>').on("click",(function(){a.hasClass("visible")?(a.removeClass("visible"),clearTimeout(i)):(a.addClass("visible"),0!==e.retract_timeout&&(i=setTimeout((function(){a.removeClass("visible")}),1e3*e.retract_timeout)))}));c.addClass(t),c.addClass("alert-"+e.klass),c.html(e.title?e.title:e.klass),s.$el.append(c),c.trigger("click")},show_mobile:function(e){var t=this,s=l()('<div class="slide-alert-message"></div>');s.addClass("alert-"+e.klass);var a=l()('<button type="button" class="close"><span aria-hidden="true">&times;</span></button>').on("click",(function(){t.$el.html(""),t.set_cookie(e)})),i=l()("<div></div>");""!==e.title&&i.append(l()("<strong>"+e.title+": </strong>")),""!==e.message&&i.append(l()("<span>"+e.message+"</span>")),s.append(a),s.append(i),t.$el.html(""),t.$el.append(s)},init:function(){if(!window.location.pathname.includes("@@set-alert-message")){var e=this;l().ajax({url:e.options.get_message_view,type:"GET",context:e.$el,async:!0,cache:e.options.cache}).done((function(t,s,a){e.is_visible(t)&&(window.innerWidth<=769?e.show_mobile(t):("fixed_top"===t.alert_location&&e.show_on_top(t),"slide_left"===t.alert_location&&e.show_slide(t,"left"),"slide_right"===t.alert_location&&e.show_slide(t,"right"),"slide_top"===t.alert_location&&e.show_slide(t,"top")))}))}}});a.Z.init()},480:()=>{}}]);
//# sourceMappingURL=100.ae598888c4dbc7f1fa07.min.js.map